vue3的办法

```
yarn add vue3-dropzone
```

```js
<template>
  <div>
    <div v-bind="getRootProps()">
      <input v-bind="getInputProps()" />
      <p v-if="isDragActive">Drop the files here ...</p>
      <p v-else>Drag 'n' drop some files here, or click to select files</p>
    </div>
    <button @click="open">open</button>
  </div>
</template>

<script setup>
import { useDropzone } from "vue3-dropzone";

function onDrop(acceptFiles, rejectReasons) {
    console.log(acceptFiles);
    console.log(rejectReasons);
}

const { getRootProps, getInputProps, ...rest } = useDropzone({ onDrop });
</script>

```

```html
<div id="drop_area" v-bind="getRootProps()">导入JSON文件</div>
```

原生办法

```js
onMounted(() => {
	const dropbox = document.getElementsByTagName("body")[0];
	dropbox.addEventListener("drop", function (e) {
		e.stopPropagation();// 阻止默认事件
		e.preventDefault();
		droping.value = false
		onFileChange(e)
	});
    // drop是拖入文件松手 dragenter是进入 dragleave是离开 dragover是拖住不
})
```



vue3经过精简之后的办法

```js
// 实现拖拽上传
let draging = $ref(false);
let mask = $ref();
onMounted(() => {
	const body = document.body;
	body.ondragenter = (e) => {
		draging = true;
	};
	body.ondragover = (e) => false;
	mask.ondragleave = (e) => {
		draging = false;
	};
	mask.ondrop = (e) => {
		onFileChange(e);
		draging = false;
		return false;
	};
});
```

